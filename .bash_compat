# bash config shared across platforms

# don't put duplicate lines or lines starting with space in the history.
HISTCONTROL=ignoreboth

# append to the history file, don't overwrite it
shopt -s histappend

# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)
HISTSIZE=10000
HISTFILESIZE=10000

# open multiple files in vertical split panes
alias vim="vim -O"

# open emacs without GUI
alias emacs="emacs -nw"

# screen reattach by default
alias screen="screen -d -R"

export GITAWAREPROMPT=~/.bash/git-aware-prompt
source $GITAWAREPROMPT/main.sh
export PS1="\[$bldgrn\]\u:\[$bldblu\]\w \[$txtcyn\]\$git_branch\[$txtred\]\$git_dirty\[$txtrst\] \$ "

function git_diff_edit {
  if [ $1 ]; then
    temp="/tmp/diff.$$.tmp"
    git diff $1 > "$temp"
    vim $1 +"vertical diffpatch $temp"
    rm $temp
  else
    echo "No filename provided."
  fi
}

# shortcuts
# ^j -> jobs
# ^r -> fg ("resume")
bind -x '"\C-j":jobs'
bind -x '"\C-r":fg'
